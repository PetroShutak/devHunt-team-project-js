import{c as v,b as _,f as J,a as Q,d as V,e as ee,g as te,r as ne,h as R,i as E,j as oe}from"./light-dark-theme-d55a85f5.js";var G="Expected a function",O=0/0,ie="[object Symbol]",se=/^\s+|\s+$/g,ae=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,le=/^0o[0-7]+$/i,ce=parseInt,de=typeof v=="object"&&v&&v.Object===Object&&v,me=typeof self=="object"&&self&&self.Object===Object&&self,ue=de||me||Function("return this")(),ge=Object.prototype,he=ge.toString,pe=Math.max,fe=Math.min,H=function(){return ue.Date.now()};function ye(e,t,n){var o,i,s,l,a,c,g=0,q=!1,h=!1,w=!0;if(typeof e!="function")throw new TypeError(G);t=N(t)||0,T(n)&&(q=!!n.leading,h="maxWait"in n,s=h?pe(N(n.maxWait)||0,t):s,w="trailing"in n?!!n.trailing:w);function S(r){var m=o,p=i;return o=i=void 0,g=r,l=e.apply(p,m),l}function F(r){return g=r,a=setTimeout(k,t),q?S(r):l}function U(r){var m=r-c,p=r-g,C=t-m;return h?fe(C,s-p):C}function x(r){var m=r-c,p=r-g;return c===void 0||m>=t||m<0||h&&p>=s}function k(){var r=H();if(x(r))return B(r);a=setTimeout(k,U(r))}function B(r){return a=void 0,w&&o?S(r):(o=i=void 0,l)}function Z(){a!==void 0&&clearTimeout(a),g=0,o=c=i=a=void 0}function X(){return a===void 0?l:B(H())}function j(){var r=H(),m=x(r);if(o=arguments,i=this,c=r,m){if(a===void 0)return F(c);if(h)return a=setTimeout(k,t),S(c)}return a===void 0&&(a=setTimeout(k,t)),l}return j.cancel=Z,j.flush=X,j}function be(e,t,n){var o=!0,i=!0;if(typeof e!="function")throw new TypeError(G);return T(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),ye(e,t,{leading:o,maxWait:t,trailing:i})}function T(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function ke(e){return!!e&&typeof e=="object"}function ve(e){return typeof e=="symbol"||ke(e)&&he.call(e)==ie}function N(e){if(typeof e=="number")return e;if(ve(e))return O;if(T(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=T(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(se,"");var n=re.test(e);return n||le.test(e)?ce(e.slice(2),n?2:8):ae.test(e)?O:+e}var Le=be;function A(){return{seeMoreBtnRef:document.querySelectorAll(".gallery-see-more-btn"),galleryRef:document.querySelector(".gallery"),activeCategory:document.querySelectorAll(".active"),categoriesRef:document.querySelector(".nav-categories-list"),bookInfo:document.querySelector(".container-modal-fav"),modal:document.querySelector("[data-modal]")}}function W(e){return`  <div class="gallery-book-link" data-id="${e._id}">
              <div class="gallery-book-card">
                <div class="gallery-book-cover" style="background-image: url('${e.book_image}')">
                </div>
                <p class="gallery-book-name">${e.title}</p>
                <p class="gallery-author">${e.author}</p>
              </div>
            </div>`}function M(e){return`  <div class="gallery-book-home-link" data-id="${e._id}">
              <div class="gallery-book-card">
                <div class="gallery-book-cover" style="background-image: url('${e.book_image}')">
                </div>
                <p class="gallery-book-name">${e.title}</p>
                <p class="gallery-author">${e.author}</p>
              </div>
            </div>`}const{bookInfo:u,modal:Te}=A();function P(e){let t="",n=0;const o=e.currentTarget.dataset.id;(_===null?-1:_.findIndex(s=>s._id===o))!==-1?(t="Remove from shopping list",n=501):(t="ADD TO SHOPPING LIST",n=465),J(e.currentTarget.dataset.id).then(s=>{u.style.height=`${n}px`,u.innerHTML="";const l=`<div class="img-book" style="background-image: url('${s.book_image}');   background-size: cover;">
                    </div>
                    <div class="description-info">
                        <h2 class="title-name">${s.title}</h2>
                        <h3 class="title-author">${s.author}</h3>
                        <p class="description-book">${s.description}</p>
                        <ul class="shop-book">
                        <li class="name-shop-book">
                          <a href="${s.buy_links[0].url}" target="_blank" class="brightness">
                            <img
                            src="${Q}"
                            alt="logo Amazon"
                            width="62"
                            height="19"
                            />
                          </a>
                        </li>
                        <li class="name-shop-book">
                          <a href="${s.buy_links[1].url}" target="_blank">
                            <img
                            src="${V}"
                            alt="logo Yellow shop"
                            width="33"
                            height="32"
                            />
                          </a>
                        </li>
                        <li class="name-shop-book">
                          <a href="${s.buy_links[4].url}" target="_blank">
                            <img
                            src="${ee}"
                            alt="logo Dark shop"
                            width="38"
                            height="36"
                            />
                          </a>
                        </li>
                        </ul>
                    </div>
                    <button type="submit" class="choice-btn" data-id="${s._id}">${t}</button>
                    <p class="congrats"></p>`;u.insertAdjacentHTML("beforeend",l),Te.classList.remove("is-hidden"),document.body.style.overflow="hidden",D();const a=document.querySelector(".choice-btn");a.addEventListener("click",c=>{a.innerHTML==="ADD TO SHOPPING LIST"?(te(c),document.documentElement.clientWidth<768?u.style.height="806px":u.style.height="501px",a.innerHTML="Remove from shopping list",a.nextElementSibling.innerHTML="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."):(document.documentElement.clientWidth<768?u.style.height="762px":u.style.height="465px",a.innerHTML="ADD TO SHOPPING LIST",a.nextElementSibling.innerHTML="",ne(c))})})}function D(){const e=document.querySelector(".container-modal-fav"),t=document.querySelector(".choice-btn");t.innerHTML==="Remove from shopping list"?(t.nextElementSibling.innerHTML="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",document.documentElement.clientWidth<768?e.style.height="806px":e.style.height="501px"):(t.nextElementSibling.innerHTML="",document.documentElement.clientWidth<768?e.style.height="762px":e.style.height="465px")}function b(){const e=document.querySelectorAll(".gallery-book-home-link"),t=document.querySelectorAll(".gallery-book-link");for(let n=0;n<e.length;n++)e[n].addEventListener("click",P);for(let n=0;n<t.length;n++)t[n].addEventListener("click",P)}const{galleryRef:f,categoriesRef:we}=A();function L(e){if(f.innerHTML="",e.target.innerHTML==="See more"){f.insertAdjacentHTML("beforeend",`<h2 class="gallery-title">${e.target.dataset.category.split(" ").slice(0,length-1).join(" ")} <span>${e.target.dataset.category.split(" ").pop()}</span></h2>`),f.insertAdjacentHTML("beforeend",'<div class="gallery-list2"></div>');const o=document.querySelector(".gallery-list2"),i=e.target.dataset.category.split(" ").join("%20");R(i).then(s=>{s.map(l=>{o.insertAdjacentHTML("beforeend",W(l))}),b()}),we.querySelector(".active").classList.remove("active"),document.querySelector(`[data-id="${e.target.dataset.category}"]`).classList.add("active"),window.scrollTo(0,0);return}if(e.target.innerHTML.trim()==="All categories"){I(),window.scrollTo(0,0);return}f.insertAdjacentHTML("beforeend",`<h2 class="gallery-title">${e.target.innerHTML.trim().split(" ").slice(0,length-1).join(" ")} <span>${e.target.innerHTML.trim().split(" ").pop()}</span></h2>`),f.insertAdjacentHTML("beforeend",'<div class="gallery-list2"></div>');const t=document.querySelector(".gallery-list2"),n=e.target.innerHTML.trim().split(" ").join("%20");R(n).then(o=>{o.map(i=>t.insertAdjacentHTML("beforeend",W(i))),b()}),window.scrollTo(0,0)}const{galleryRef:d}=A();function I(){d.innerHTML="",document.documentElement.clientWidth<768?(d.insertAdjacentHTML("beforeend",'<h2 class="gallery-title">Best Sellers <span>Books</span></h2>'),E().then(e=>{for(let n of e)d.insertAdjacentHTML("beforeend",`<h3 class="gallery-category">${n.books[0].list_name}</h3>`),d.insertAdjacentHTML("beforeend",M(n.books[0])),d.insertAdjacentHTML("beforeend",`<button class="gallery-see-more-btn" data-category="${n.books[0].list_name}">See more</button>`);const t=document.querySelectorAll(".gallery-see-more-btn");for(let n=0;n<t.length;n++)t[n].addEventListener("click",L);b()})):document.documentElement.clientWidth<1440?(d.insertAdjacentHTML("beforeend",'<h2 class="gallery-title">Best Sellers <span>Books</span></h2>'),E().then(e=>{for(let n of e){d.insertAdjacentHTML("beforeend",`<h3 class="gallery-category">${n.books[0].list_name}</h3>
          <div class="gallery-list"></div>`);const o=document.querySelectorAll(".gallery-list"),i=o[o.length-1];for(let s=0;s<3;s++)i.insertAdjacentHTML("beforeend",M(n.books[s]));d.insertAdjacentHTML("beforeend",`<button class="gallery-see-more-btn" data-category="${n.books[0].list_name}">See more</button>`)}const t=document.querySelectorAll(".gallery-see-more-btn");for(let n=0;n<t.length;n++)t[n].addEventListener("click",L);b()})):(d.insertAdjacentHTML("beforeend",'<h2 class="gallery-title">Best Sellers <span>Books</span></h2>'),E().then(e=>{for(let o of e){d.insertAdjacentHTML("beforeend",`<h3 class="gallery-category">${o.books[0].list_name}</h3>
          <div class="gallery-list"></div>`);var t=document.querySelectorAll(".gallery-list");const i=t[t.length-1];for(let s=0;s<5;s++)i.insertAdjacentHTML("beforeend",M(o.books[s]));d.insertAdjacentHTML("beforeend",`<button class="gallery-see-more-btn" data-category="${o.books[0].list_name}">See more</button>`)}const n=document.querySelectorAll(".gallery-see-more-btn");for(let o=0;o<n.length;o++)n[o].addEventListener("click",L);b()})),window.scrollTo(0,0)}I();let y=document.documentElement.clientWidth;onresize=Le(e=>{e.preventDefault();let t=document.documentElement.clientWidth;y<768?t>767&&($(),y=t):y<1440?(t>1439||t<768)&&($(),y=t):t<1440&&($(),y=t),document.querySelector("[data-modal]").classList.contains("is-hidden")||D()},100);function $(){document.querySelector(".active").innerHTML.trim()==="All categories"&&I()}const Y=document.querySelector(".nav-categories-list");async function Se(){const{data:e}=await oe.get("https://books-backend.p.goit.global/books/category-list");return e}const je=async()=>{try{const e=await Se();Y.innerHTML=await He(e),document.querySelectorAll(".nav-category-item").forEach(n=>{n.addEventListener("click",o=>{const i=document.querySelector(".nav-category-item.active");i&&i.classList.remove("active"),o.target.classList.add("active")})})}catch{console.log("Oops! Something went wrong")}};je();Y.addEventListener("click",Ee);function Ee(e){e.target.dataset.id&&L(e)}function He(e){return`<li class="nav-category-item active" data-id="all-categories">
        All categories</li>
        ${e.map(t=>`<li class="nav-category-item" data-id="${t.list_name}">
        ${t.list_name}
        </li>`).join("")}`}(()=>{const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};e.closeModalBtn.addEventListener("click",o),document.addEventListener("keydown",t);function t(i){i.code==="Escape"&&(e.modal.classList.add("is-hidden"),document.removeEventListener("keydown",t),console.log("esc"))}e.modal.addEventListener("click",n);function n(i){i.target===i.currentTarget&&o()}function o(){e.modal.classList.toggle("is-hidden"),document.body.style.overflow=""}})();window.onload=function(){const e=document.documentElement.scrollHeight;({el:document.querySelector(".btn-up"),show(){this.el.classList.remove("btn-up_hide")},hide(){this.el.classList.add("btn-up_hide")},addEventListener(){window.addEventListener("scroll",()=>{(window.scrollY||document.documentElement.scrollTop)>.8*e&&innerWidth>=768?this.show():this.hide()}),this.el.onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener()};const Me=(e,t)=>{const n=document.createElement("div");n.classList.add("footer-book");const o=document.createElement("div");o.classList.add("container");const i=t.cloneNode(!0);i.classList.add("footer-item");const s=document.createElement("a");s.href="#",s.classList.add("footer-link"),s.setAttribute("data-modal-open-command","");const l=document.createElement("span");l.classList.add("footer-year"),l.textContent="© 2023";const a=document.createTextNode(" || Students "),c=document.createElement("span");c.classList.add("footer-goit"),c.textContent="GO IT",s.appendChild(l),s.appendChild(a),s.appendChild(c),o.appendChild(i),o.appendChild(s),n.appendChild(o),e.appendChild(n)},$e=document.getElementById("your-container-id"),z=document.createElement("ul"),Ae=["Thank you for deciding to purchase books from our store!","We are always working to provide you with the best shopping experience","We are always happy to be of assistance and welcome you back to our website","If you have any questions, please don't hesitate to contact us. Best regards, the book store team!"];Ae.forEach(e=>{const t=document.createElement("li");t.classList.add("footer-list");const n=document.createElement("p");n.classList.add("footer-description"),n.textContent=e,t.appendChild(n),z.appendChild(t)});Me($e,z);const Ie="/devHunt-team-project-js/assets/petro-shutak-d723eaf7.jpg",qe="/devHunt-team-project-js/assets/tatiana-tereshchenko-50080e28.jpg",xe="/devHunt-team-project-js/assets/andrii-zlotnikov-2c9323af.jpg",Be="/devHunt-team-project-js/assets/yuliia-karas-027ddc77.jpg",Ce="/devHunt-team-project-js/assets/kostiantyn-krysenko-f6965b47.jpg",_e="/devHunt-team-project-js/assets/anatolii-shkurpela-7cd475ea.jpg",Re="/devHunt-team-project-js/assets/yuliia-usova-4c95717e.jpg",Oe="/devHunt-team-project-js/assets/petro-kostrytsia-754f28b4.jpg",Ne="/devHunt-team-project-js/assets/serhii-kotkov-8c386b2f.jpg",We=[{memberName:"Petro <br> Shutak",photo:Ie,github:"https://github.com/PetroShutak",linkedIn:"https://www.linkedin.com/in/petroshutak/",width:40,height:60},{memberName:"Tatiana <br> Tereshchenko",photo:qe,github:"https://github.com/Tatiana-Tereshchenko",linkedIn:"https://www.linkedin.com/in/tetianatereshchenkoko-41a478262/",width:40,height:60},{memberName:"Sergii <br> Kotkov",photo:Ne,github:"https://github.com/Serhii-K5",iconGit:"../images/sprite.svg#icon-github",linkedIn:"http://www.linkedin.com/in/serhii-kotkov",iconLink:"../images/sprite.svg#icon-linkedin",width:40,height:60},{memberName:"Andrii Zlotnikov",photo:xe,github:"https://github.com/AndriiZlt",iconGit:"../images/sprite.svg#icon-github",linkedIn:"https://www.linkedin.com/in/andrii-zlotnikov-9bab42153",iconLink:"../images/sprite.svg#icon-linkedin",width:40,height:60},{memberName:"Yuliia <br> Karas",photo:Be,github:"https://github.com/Yuliia-Karas",iconGit:"../images/sprite.svg#icon-github",linkedIn:"https://www.linkedin.com/in/yuliia-karas-38991b274/",iconLink:"../images/sprite.svg#icon-linkedin",width:40,height:60},{memberName:"Kostiantyn Krysenko",photo:Ce,github:"https://github.com/barkode",iconGit:"../images/sprite.svg#icon-github",linkedIn:"https://www.linkedin.com/in/kostiantyn-krysenko-b721aa3a/",iconLink:"../images/sprite.svg#icon-linkedin",width:40,height:60},{memberName:"Anatolii Shkurpela",photo:_e,github:"https://github.com/AnatoliiShkurpela",iconGit:"../images/sprite.svg#icon-github",linkedIn:"https://www.linkedin.com/in/anatolii-shkurpela-a8949b273/",iconLink:"../images/sprite.svg#icon-linkedin",width:40,height:60},{memberName:"Yuliia <br> Usova",photo:Re,github:"https://github.com/Iuliia23",iconGit:"../images/sprite.svg#icon-github",linkedIn:"https://www.linkedin.com/in/julia-usova-a8802b276/",iconLink:"../images/sprite.svg#icon-linkedin",width:40,height:60},{memberName:"Petro Kostrytsia",photo:Oe,github:"https://github.com/petekostrytsya",iconGit:"../images/sprite.svg#icon-github",linkedIn:"https://www.linkedin.com/in/petro-kostrytsia-64838a265/",iconLink:"../images/sprite.svg#icon-linkedin",width:40,height:60}],K="/devHunt-team-project-js/assets/sprite-84dba2d7.svg",Pe=`${K}#icon-github`,Ge=`${K}#icon-linkedin`,De=We.reduce((e,t)=>{const{memberName:n,photo:o,github:i,linkedIn:s,width:l,height:a}=t;return e+=` <li class="employees-card">
  <img class="employees-img"
    src="${o}"
    alt="${n}"
    width="${l}"
    height="${a}"
  />
  <h3 class="employees-name">${n}</h3>
  <ul class="social-list">
    <li class="social-list-itam">
      <a href="${i}" class="social-list-link" target="_blank">
        <svg class="social-list-icon">
          <use href="${Pe}"></use>
        </svg>
      </a>
    </li>
    <li class="social-list-itam">
      <a href="${s}" class="social-list-link" target="_blank">
        <svg class="social-list-icon">
          <use href="${Ge}"></use>
        </svg>
      </a>
    </li>
  </ul>
</li>`},""),Ye=document.querySelector(".employees-item");Ye.insertAdjacentHTML("afterbegin",De);(()=>{const e={openModalBtn:document.querySelector("[data-modal-open-command]"),closeModalBtn:document.querySelector("[data-modal-close-command]"),modal:document.querySelector("[data-modal-command]")};document.addEventListener("keydown",t);function t(i){i.code==="Escape"&&(e.modal.classList.add("is-hidden"),document.body.style.overflow="",document.removeEventListener("keydown",t))}e.openModalBtn.addEventListener("click",o),e.modal.addEventListener("click",n);function n(i){e.modal.classList.add("is-hidden"),document.body.style.overflow="",i.target,i.currentTarget}function o(i){i.preventDefault(),e.modal.classList.toggle("is-hidden"),document.body.style.overflow=document.body.style.overflow==="hidden"?"":"hidden"}})();
